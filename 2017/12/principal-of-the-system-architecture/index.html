<!doctype html><html lang=ja prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:type" content="article"><meta property="og:url" content="https://www.grimrose.org/blog/2017/12/principal-of-the-system-architecture/"><meta property="og:image" content="https://www.grimrose.org/blog/assets/images/logo.jpg"><meta property="og:locale" content="ja_JP"><meta name=twitter:site content="@grimrose"><meta name=twitter:card content="summary"><link rel=stylesheet href="//fonts.googleapis.com/css?family=PT+Sans:400,700" type=text/css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/github.min.css><link rel=stylesheet href=https://www.grimrose.org/blog/css/normalize.css><link rel=stylesheet href=https://www.grimrose.org/blog/css/skeleton.css><link rel=stylesheet href=https://www.grimrose.org/blog/css/custom.css><link rel=alternate href=https://www.grimrose.org/blog/index.xml type=application/rss+xml title="open build/reports/life/index.html"><title>#現場で役立つシステム設計の原則 の読書会をしました - open build/reports/life/index.html</title><meta property="og:title" content="#現場で役立つシステム設計の原則 の読書会をしました - open build/reports/life/index.html"><meta name=twitter:description content="principal of the system architecture"></head><body><div class=container><header role=banner><div class=header-logo><a href=https://www.grimrose.org/blog/><img src=https://www.grimrose.org/blog/assets/images/logo.jpg width=60 height=60></a></div></header><main role=main><article itemscope itemtype=http://schema.org/BlogPosting><h1 class=entry-title itemprop=headline><i class="fa fa-book"></i>&nbsp;#現場で役立つシステム設計の原則 の読書会をしました</h1><span class=entry-meta><time itemprop=datePublished datetime=2017-12-02>December 02, 2017</time></span>
<span class=entry-meta><i class="fa fa-pencil"></i><a class=label href=https://www.grimrose.org/blog/categories/blog>Blog</a>&nbsp;</span><section itemprop=entry-text><h2 id=はじめに>はじめに</h2><p><a href=http://gihyo.jp/book/2017/978-4-7741-9087-7>現場で役立つシステム設計の原則 〜変更を楽で安全にするオブジェクト指向の実践技法</a>
を使って、中途入社の研修として読書会をしました。</p><p><blockquote class=twitter-tweet data-lang=en><p lang=ja dir=ltr>若者と現場で役立つシステム設計の原則の読書会を始めた。<br>11月中に終わる予定…</p>&mdash; とーます (@grimrose) <a href="https://twitter.com/grimrose/status/927905073824350208?ref_src=twsrc%5Etfw">November 7, 2017</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script></p><p>11月中に終わったので、まとめておこうと思います。</p><h2 id=やってたこと>やってたこと</h2><p>参加者は私と中途入社の2人だけに限定して、毎日空いている1時間を見つけて開催してました。
進め方は、電子版のpdfをモニタに映しつつ、1時間で進められるとこまで進めていくようにしました。</p><h3 id=第1章-小さくまとめてわかりやすくする>第1章　小さくまとめてわかりやすくする</h3><h3 id=第2章-場合分けのロジックを整理する>第2章　場合分けのロジックを整理する</h3><h3 id=第3章-業務ロジックをわかりやすく整理する>第3章　業務ロジックをわかりやすく整理する</h3><p>コードのサンプルがJavaだったので、Scalaだとこう書けるよとか、PHPだとこれが出来ないからツライとか、プロダクションコードがこうなっているのはこの考えだからだよとか、実際のコードを見ながら説明をしていたりしてました。</p><h3 id=第4章-ドメインモデルの考え方で設計する>第4章　ドメインモデルの考え方で設計する</h3><h3 id=第5章-アプリケーション機能を組み立てる>第5章　アプリケーション機能を組み立てる</h3><p>ドメインオブジェクトを成長させていくには、業務理解と併せてやっていかないといけないから、分析、設計、開発が別れてるようなプロジェクトだと無理だけど、今のプロジェクトはそうじゃないんだよということも伝えていました。</p><p>また、プロダクションコードでイケてない部分も見せながら、この考えを参考にしながら改善していきたいというのも併せて伝えました。</p><h3 id=第6章-データベースの設計とドメインオブジェクト>第6章　データベースの設計とドメインオブジェクト</h3><p><blockquote class=twitter-tweet data-lang=en><p lang=ja dir=ltr>若者との現場で役立つシステム設計の原則の読書会も6章のデータベースの話が出てきたので、SQLアンチパターン、 immutable data model、 データベース実践入門、CQRS + ESの話を盛り込んだら時間オーバーした</p>&mdash; とーます (@grimrose) <a href="https://twitter.com/grimrose/status/931145011403489280?ref_src=twsrc%5Etfw">November 16, 2017</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script></p><p>データ分析の部署なので、データベースに関する箇所を厚くしたら、盛り込みすぎてしまいました。</p><p>紹介したのは、以下の資料です。</p><p><iframe src=//www.slideshare.net/slideshow/embed_code/key/2NQtVWVjk3B9Te width=595 height=485 frameborder=0 marginwidth=0 marginheight=0 scrolling=no style="border:1px solid #ccc;border-width:1px;margin-bottom:5px;max-width:100%" allowfullscreen></iframe><div style=margin-bottom:5px><strong><a href=//www.slideshare.net/itohiro73/jjug-ccc-2017-spring-bitemporal-data-modeling-and-reladomo title="データ履歴管理のためのテンポラルデータモデルとReladomoの紹介 #jjug_ccc #ccc_g3" target=_blank>データ履歴管理のためのテンポラルデータモデルとReladomoの紹介 #jjug_ccc #ccc_g3</a></strong> from <strong><a href=https://www.slideshare.net/itohiro73 target=_blank>Hiroshi Ito</a></strong></div></p><p><iframe src=//www.slideshare.net/slideshow/embed_code/key/DCYNA0R8eOzuTk width=595 height=485 frameborder=0 marginwidth=0 marginheight=0 scrolling=no style="border:1px solid #ccc;border-width:1px;margin-bottom:5px;max-width:100%" allowfullscreen></iframe><div style=margin-bottom:5px><strong><a href=//www.slideshare.net/kawasima/ss-40471672 title=イミュータブルデータモデル(入門編) target=_blank>イミュータブルデータモデル(入門編)</a></strong> from <strong><a href=https://www.slideshare.net/kawasima target=_blank>Yoshitaka Kawashima</a></strong></div></p><p><iframe src=//www.slideshare.net/slideshow/embed_code/key/wUFig8EBkhNZVN width=595 height=485 frameborder=0 marginwidth=0 marginheight=0 scrolling=no style="border:1px solid #ccc;border-width:1px;margin-bottom:5px;max-width:100%" allowfullscreen></iframe><div style=margin-bottom:5px><strong><a href=//www.slideshare.net/kawasima/ss-44958468 title=イミュータブルデータモデル(世代編) target=_blank>イミュータブルデータモデル(世代編)</a></strong> from <strong><a href=https://www.slideshare.net/kawasima target=_blank>Yoshitaka Kawashima</a></strong></div></p><p><iframe src=//www.slideshare.net/slideshow/embed_code/key/5QpOqD5gML4oWQ width=595 height=485 frameborder=0 marginwidth=0 marginheight=0 scrolling=no style="border:1px solid #ccc;border-width:1px;margin-bottom:5px;max-width:100%" allowfullscreen></iframe><div style=margin-bottom:5px><strong><a href=//www.slideshare.net/MasakiToyoshima/ladder-of-cqrses title="Ladder of cqrs+es" target=_blank>Ladder of cqrs+es</a></strong> from <strong><a href=https://www.slideshare.net/MasakiToyoshima target=_blank>Masaki Toyoshima</a></strong></div></p><p>イミュータブルデータモデルや有効時間データモデルについては、実際にプロダクションで採用するとこうなるんだよという例を見せながら説明すると、納得していたように見えました。</p><p>CQRS + ESについては、少なくともCommandとQueryを分けると責務もはっきりするし、参照が多いレポジトリのクラスがいろいろ巻き込んで肥大化するのを避けることが出来るという自分の考えも伝えていました。</p><h3 id=第7章-画面とドメインオブジェクトの設計を連動させる>第7章　画面とドメインオブジェクトの設計を連動させる</h3><h3 id=第8章-アプリケーション間の連携>第8章　アプリケーション間の連携</h3><p>プレゼンテーション層については、今のプロダクションコードを見つつ、PHPのテンプレートに埋め込む部分と、Angular側に任せる部分と、APIとして何をレスポンスを返すのがいいかを、過去の経緯と今の考えを踏まえつつ説明してました。</p><p>RESTをどこまで厳密にやるのが今のプロジェクトにあってるのか、あってるとしたらどのドメインのコンテキストなのかを一緒に考えながら、話し合っていました。</p><p>興味を持っている<a href=http://graphql.org/>GraphQL</a>についてや、Akkaだとメッセージ基盤も内包してることを紹介してたりしてました。</p><h3 id=第9章-オブジェクト指向の開発プロセス>第9章　オブジェクト指向の開発プロセス</h3><p>SIerあるあるネタがお互いに出てきたので、どこも今もあんま変わってないんだなと思いました。</p><h3 id=第10章-オブジェクト指向設計の学び方と教え方>第10章　オブジェクト指向設計の学び方と教え方</h3><p>オブジェクト指向エクササイズについては、麻疹にかかるように一度やり過ぎるくらいにやってから、現場でどこまで適用するのがいいのか考える必要があることを伝えていました。</p><p>最後の回では、<a href=http://phpmentors.jp/post/164775567158/%E7%8F%BE%E5%A0%B4%E3%81%A7%E5%BD%B9%E7%AB%8B%E3%81%A4%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E8%A8%AD%E8%A8%88%E3%81%AE%E5%8E%9F%E5%89%87%E6%89%B9%E5%88%A4-1>「現場で役立つシステム設計の原則」批判 (1) ～何のために、「データとロジックを一体に」するのか？～</a>
や<a href=http://phpmentors.jp/post/165184612628/%E7%8F%BE%E5%A0%B4%E3%81%A7%E5%BD%B9%E7%AB%8B%E3%81%A4%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E8%A8%AD%E8%A8%88%E3%81%AE%E5%8E%9F%E5%89%87%E6%89%B9%E5%88%A4-2-%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0%E3%81%AF%E4%BD%95%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AB>「現場で役立つシステム設計の原則」批判 (2) ～ポリモーフィズムは何のために？～</a>
を紹介しつつ、プロダクションコードの中の似たような箇所を見せつつ、どうしたらいいか自分なりの考えを出してもらいました。</p><h2 id=おわりに>おわりに</h2><p>今のプロダクションコードを見ながら、この本で指摘されている内容と照らし合わせていくと、
自分自身の振り返りも出来たので、こういった機会を定期的に設けるのはありなのかもしれないと思いました。</p></section><div class=hr></div><div><div><a class=previous href=https://www.grimrose.org/blog/2017/12/sangria-graphql/>Introduction to Sangria</a>
<i class="fa fa-arrow-left"></i></div><div><i class="fa fa-arrow-right"></i><a class=next href=https://www.grimrose.org/blog/2017/11/jjug-ccc-2017/>JJUG CCC 2017 Fallに参加してきました #jjug_ccc</a></div></div><div class=hr></div><div class=post-share-buttons><a href=http://b.hatena.ne.jp/entry/ class=hatena-bookmark-button data-hatena-bookmark-layout=standard-balloon data-hatena-bookmark-lang=ja title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a>
<script type=text/javascript src=https://b.st-hatena.com/js/bookmark_button.js async></script><a class=tumblr-share-button data-color=blue data-notes=right data-locale=ja_JP href=https://embed.tumblr.com/share></a><script>!function(d,s,id){var js,ajs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://secure.assets.tumblr.com/share-button.js";ajs.parentNode.insertBefore(js,ajs);}}(document,"script","tumblr-js");</script><a href=https://twitter.com/share class=twitter-share-button data-lang=ja>ツイート</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script></div></article></main><footer role=contentinfo><div class=hr></div><div class=footer-link><i class="fa fa-twitter-square"><a href=https://twitter.com/grimrose target=_blank>Twitter</a></i>
<i class="fa fa-github-alt"><a href=https://github.com/grimrose/ target=_blank>GitHub</a></i></div><div class=copyright>Copyright &copy; <a href=https://grimrose.org/>grimrose</a> All rights reserved.</div></footer></div><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/scala.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/groovy.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/shell.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>